CREATE TABLE tbl_board (
rno number not null,
title varchar2(1000) not null,
writer varchar2(50) not null,
content clob not null, 
regidate date DEFAULT sysdate
);



CREATE SEQUENCE seq_board 
INCREMENT BY 1
START WITH 1;


CREATE TABLE tbl_reply(
rno number not null,
bno number not null,
reply varchar2(1000) not null,
replyer VARCHAR2(50) not null,
replydate date DEFAULT sysdate
);

CREATE SEQUENCE seq_reply 
INCREMENT BY 1
START WITH 1;

ALTER TABLE TBL_BOARD ADD CONSTRAINT PK_BOARD PRIMARY KEY(bno);

ALTER TABLE TBL_REPLY ADD CONSTRAINT PK_REPLY PRIMARY KEY(rno);

ALTER TABLE tbl_board add (replyCnt number default 0);

ALTER TABLE tbl_reply ADD CONSTRAINT FK_board_no FOREIGN KEY(bno) REFERENCES tbl_board(bno) on DELETE CASCADE;

commit;


create table tbl_member (
mno number not null,
userid varchar2(50) not null,
userpw varchar2(100) not null,
username varchar2(100) not null,
regidate date default sysdate,
enabled char(1) default '1' );

CREATE SEQUENCE seq_member 
INCREMENT BY 1
START WITH 1;

ALTER TABLE TBL_member ADD CONSTRAINT PK_member PRIMARY KEY(userid);

ALTER TABLE TBL_member ADD CONSTRAINT unique_member unique(mno);

create table tbl_member_auth (
userid varchar2(50) not null,
auth varchar2(50) not null,
constraint fk_member_auth foreign key(userid) REFERENCES tbl_member(userid) on DELETE CASCADE;
);

CREATE TABLE persistent_logins(
username varchar2(64) not null,
series varchar2(64) not null,
token varchar2(64) not null,
last_used timestamp not null
);